#$OpenXM: OpenXM/src/asir-contrib/packages/doc/Makefile.in,v 1.22 2011/02/21 09:27:07 noro Exp $
RM=rm -f

LANGUAGES = en ja

bindir=@prefix@/bin
LIBDIR=@prefix@/lib/asir
DOCDIR=@prefix@/doc/asir-contrib

SUBDIRS=dsolv gnuplot mathematica ok_diff ok_dmodule om \
   pfpcoh phc plucker sm1 tigers \
   todo_parametrize f_res taji_alc top noro_matrix mt_graph nn_ndbf noro_mwl noro_pd \
   ns_twistedlog


all :
	@if [ ! -f ./.build_done ] ; then \
		for i in ${SUBDIRS}; do (cd $$i && ${MAKE}); done ; \
	    touch ./.build_done ; \
	fi

install: install-help install-document

install-help: all
	@if [ ! -f ./.install_help_done ] ; then \
		for i in ${SUBDIRS}; do (cd $$i && ${MAKE} install-help); done ; \
	    touch ./.install_help_done ; \
	else \
	    echo "NOTE: Installation of document is already done. Remove .install_help_done for a new installation." ; \
	fi

install-document: all
	@if [ ! -f ./.install_doc_done ] ; then \
		for i in ${SUBDIRS}; do (cd $$i && ${MAKE} install-document); done ; \
	    touch ./.install_doc_done ; \
	else \
	    echo "NOTE: Installation of document is already done. Remove .install_doc_done for a new installation." ; \
	fi

clean:
	for i in ${SUBDIRS}; do (cd $$i; ${MAKE} clean); done

distclean: clean
	-for j in ${LANGUAGES}; do \
		${RM} -r ${LIBDIR}/help-$$j/xm.help ; \
	done
	-${RM} -r ${DOCDIR}
	-${RM} -r ./.*done config.log config.status autom4te.cache 
	-${RM} Makefile M/Makefile
