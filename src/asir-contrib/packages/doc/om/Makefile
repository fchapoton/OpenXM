#$OpenXM: OpenXM/src/asir-contrib/packages/doc/om/Makefile,v 1.1 2005/04/13 23:19:17 takayama Exp $

# Name of this document.
MYNAME=om

SRC = om.oxw

ENSRCS = ${SRC:.oxw=.en} 
JASRCS = ${SRC:.oxw=.ja} 
ENAUTO= 
JAAUTO=${ENAUTO:.en=.ja}
GENTEXI_OPT=--noSorting --author "OpenXM.org" --infoName asir-contrib-${MYNAME}
include ../M/Makefile

clean_private: 
	${RM} -f ${MYNAME}-ja.texi ${MYNAME}-en.texi ${MYNAME}.oxw

${MYNAME}.oxw: ${CONTRIB}/${MYNAME}.rr
	@echo "--------------------------------------" >${MYNAME}.oxw
	@echo "THIS IS AUTHO GENERATED!! DO NOT EDIT." >>${MYNAME}.oxw
	@echo "--------------------------------------" >>${MYNAME}.oxw
	@echo "/*&ja" >>${MYNAME}.oxw
	${OXWEAVE} C ja <${CONTRIB}/${MYNAME}.rr >>${MYNAME}.oxw
	@echo "*/" >>${MYNAME}.oxw
	@echo "/*&en" >>${MYNAME}.oxw
	${OXWEAVE} C en <${CONTRIB}/${MYNAME}.rr >>${MYNAME}.oxw
	@echo "*/" >>${MYNAME}.oxw

${MYNAME}-ja.texi: ${MYNAME}.oxg
	@echo "OpenMath XML Translation Server =?ISO-2022-JP?B?GyRCJV4lSyVlJSIlaxsoQg==?= " >title.tmp
# generated by nkf -M
	${NKF} -j ${MYNAME}.oxg | ${OXWEAVE} usage-ja | ${OXGENTEXI} ${GENTEXI_OPT} --title "`nkf -e title.tmp`" >${MYNAME}-ja.texi
	rm -f title.tmp

${MYNAME}-en.texi: ${MYNAME}.oxg
	${NKF} -j ${MYNAME}.oxg | ${OXWEAVE} usage-en | ${OXGENTEXI} ${GENTEXI_OPT} --title "OpenMath XML Translation Server Manual" >${MYNAME}-en.texi

