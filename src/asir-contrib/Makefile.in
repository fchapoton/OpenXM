# $OpenXM: OpenXM/src/asir-contrib/Makefile.in,v 1.2 2006/02/07 05:21:58 takayama Exp $

# targets:
# all
# install
# install-document
# clean

all :  Makefile
	(cd packages/doc ; make all)

install : Makefile
	-(cd testing ; make link-to-src)
	(cd packages/src ; make install)
	-(cd packages/doc ; make install)

install-document: Makefile
	-(cd packages/doc ; make install-document)

clean :
	-rm -rf .*done packages/src/.*done packages/doc/.*done config.log config.status autom4te.cache
	-(cd packages/src ; make clean)
	-(cd packages/doc ; make clean)

configure: Makefile
	if test ! -f ./.configure_sub_done  ; \
	then \
	(cd packages/src; sh ./configure --prefix=@prefix@) ; \
	(cd packages/doc; sh ./configure --prefix=@prefix@) ; \
	fi
	@touch ./.configure_sub_done

Makefile: Makefile.in
	(rm -f .*done ; ./make-configure )

install-for-debug:
	-(rm -rf ../../lib/asir-contrib)
	(cd ../../lib ; ln -s ../src/asir-contrib/packages/src asir-contrib)
