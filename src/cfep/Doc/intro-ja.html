<html>
<META http-equiv="Content-Type" content="text/html; charset=iso-2022-jp">
<body>

<img src="opening1.png" align="left" width="30%" height="50%" 
     hspace="30" vspace="10"/>
<ul>
<li> <a href="#changelog"> cfep 1.1 の新機能 </a> 
<li> <a href="#whatIsCfep"> cfepについて </a> 
<li> <a href="#intro"> 入門 </a> 
<li> <a href="#faq"> 問題を解決する </a> 
<li> <a href="#myIndex"> 索引(組み込み関数の詳しい説明) </a> 
</ul>


<hr/>

<h3 id="whatIsCfep" name="whatIsCfep"> cfepについて </h3>
cfep は
"10進ベーシック" のユーザインタフェースを参考にして作成した
<a href="http://www.math.kobe-u.ac.jp/OpenXM"> OpenXM </a>
ユーザインタフェースです (MacOS X 10.4 以上用). <br>
入力窓にプログラムなどを入力して <font color="brown">始め</font> ボタン (または
command+enter キー)をおすとプログラムの実行や計算を開始し, 
その結果(最後の文の評価値)を出力窓へ表示します 
(<a href="fctr.png"> 実行例</a>).
入力窓の内容はリッチテキストファイル(rtf, rtfd)としても保存できます.
始めボタンの横のチェックボックスにチェックをつけておくと, 選択した範囲のみを
評価（計算やプログラムの実行を)します. 
デフォールトの計算エンジンは計算代数システム
<a href="http://www.math.kobe-u.ac.jp/Asir/index-ja.html"> Risa/Asir </a>
です.

<p>
<hr/>

<h3> cfep のインストール </h3>
インストーラーは不要です.
<a href="http://www.math.kobe-u.ac.jp/HOME/taka/2005/cfep/cfep.dmg.gz">
cfep のディスクイメージ </a> をダウンロードし, これを開いて "いのぶたくん" のアイコン
<img src="inobuta.png" width="30" height="30"/> を好きな場所にコピーするだけ.  
システムからの削除は "いのぶたくん" をゴミ箱へいれるだけ.

<hr>
<h3 id="changelog" name="changelog">
     cfep 1.1 の特徴 (2006.03.12.)</h3>
<ol>
<li> ヘルプの充実.
<li> 出力を TeX でタイプセットするモード, ノートブック風インタフェース (実験的).
 <img src="typesetByTeX.png" width="100" height="100" hspace="10"/> 
</ol>
<h3> cfep 1.0 の特徴 (2006.02.25) </h3>
<ol>
<li> Editorと計算エンジンの統合環境.
<li> OpenGL仕様の一部分を実現した OpenGL インタプリターを内蔵 (実験的).
   <a href="ray.png"> OpenGL実行例(スクリーンショット)</a>   <br>
   Samples フォルダの ファイル ray, icosahedron, simple-gl-1 等を御覧ください.
</ol>

<hr>
<h3 id="intro" name="intro"> 入門 </h3> 
  <a href="pdf/next2.pdf"> Cfep/asir 超入門 (pdf/next2.pdf) </a> <br>
  (内容: 電卓としての利用. cfep の操作方法. 
    エラーメッセージ. 変数とプログラム. エンジンの再起動.
   ヘルプの利用. グラフィック.  For 文による数列の計算. cfep インタフェース上級編.
   選択範囲のみ実行. OpenGL)

<h3> <a href="http://www.math.kobe-u.ac.jp/~taka/asir-book-html/main/index.html">
     Risa/Asirドリル2003 </a> 本格的入門書 (ネットワーク) </h3>

<hr>
<h3 id="myIndex" name="myIndex"> 索引(組み込み関数の詳しい説明) </h3>
<ol>
<li>   <a href="./">使用説明書のフォルダをfinderで開く</a>
  <table border="0" cellspaceing ="10">
  <td>
  <img src="menuSpotlight.png"  align="left"
        width="200" height="80" vspace="10" hspace="20"/>
  <font color="red"> 検索したい言葉をスポットライトの窓へ入力 </font>. <br>
  検索のヒント: PDF文書のみから検索したい場合は "検索語  kind:pdf" と入力.
  </table>
<li> cfep の操作説明. <a href="#intro"> 入門 </a> および
    <a href="#QandAadvanced"> よくある質問 上級編</a> を参照.
<li> <a href="html-ja_JP.utf8/html-jp/man_toc.html">
  Risa/Asir マニュアル </a> 
<li> <a href="html-ja_JP.utf8/html-exp-ja/exp-ja_toc.html">
  Risa/Asir実験的機能マニュアル </a>
<li> <a href="http://www.math.kobe-u.ac.jp/OpenXM/Current/doc/index-doc-ja.html"> 
Asir マニュアル, Asir-contrib, 実験的関数マニュアルも含むより詳しい関数一覧  </a> 
(ネットワーク)
</ol>

<hr>
<h3 id="faq" name="faq"> <font color="red"> 良くある質問 初級編 </font> </h3>
<ul>
<li> <a href="#q1"> リッチテキストで保存したファイル (rtf, rtfd ファイル) が Windows 版や unix 版のasir で実行できません.  </a>
<li> <a href="#q2">  #include や #define がつかえません. </a>
<li> <a href="#q3">  OpenGLのグラフィック画面を印刷できません </a>
<li> <a href="#q4">  グラフィックが表示されません </a>
<li> <a href="#q5">  グラフィックの表示がだんだん遅くなります </a>
<li> <a href="#q6">  Basic の input 文にあたる命令はありますか? </a>
<li> <a href="#q7"> Graphic 画面に文字をどのように書きますか? </a>
</ul>

<h4 id="q1" name="q1"> Q. リッチテキストで保存したファイル (rtf, rtfd ファイル) が Windows 版や unix 版の
asir で実行できません. </h4>

rr 形式か txt 形式 (テキスト形式)でセーブしてください.
cfep の漢字コードは UTF-8 です.
したがって漢字コードの変換が必要な場合もあります.

<h4 id="q2" name="q2"> Q. #include や #define がつかえません. </h4>
おまちください.

<h4 id="q3" name="q3"> Q. OpenGLのグラフィック画面を印刷できません </h4>
まだ実装していません. とりあえずは "shift" と "コマンド" と "3" を一緒におす事により
スクリーンのコピーがデスクトップにファイルとして保存されますのでそれを使ってください.
"shift" と "コマンド" と "4" を一緒におす事で マウスでドラッグした範囲のみをファイルに保存できます.
コマンドラインからは screencapture コマンドを用います.

<h4 id="q4" name="q4"> Q. グラフィックが表示されません </h4>
原因はいろいろ想定されますが, 一番よくあるのは flush 系の命令が実行されて
いない状態です.
glib_flush または OpenGL の glFlush コマンドが実行されるまで,
実際の表示はされません.
OpenGLの Window を動かしたりすると, これらのコマンドを実行したのと近い状態になるので,
表示されることがあります.

<h4 id="q5" name="q5">  グラフィックの表示がだんだん遅くなります. </h4>
たくさんの点をうったりすると OpenGL インタプリタの構造上の特性からメモリを浪費し,
動作速度の低下をまねきます.
不必要な OpenGL グラフィックオブジェクトを消しておくのが効率的利用には必要です.
glib 系では glib_remove_last(); コマンドが一つ前の OpenGL グラフィックオブジェクトを消します.

<h4 id="q6" name="q6">  Basic の input 文にあたる命令はありますか? </h4>
準備中です. 
以下のようなプログラムである程度の代用にになるかもしれませんが繁雑ですね.
<pre>
for (I=0; I<5; I++) {
 print("xterm に数を入力してください");
 shell("/usr/X11R6/bin/xterm -exec pico /tmp/abc.txt");
 F=open_file("/tmp/abc.txt","r");
 S=get_line(F);
 V=eval_str(S);
 print(V,0); print(" を入力しましたね.");
 close_file(F);
 shell("rm -f /tmp/abc.txt");
}
</pre>
      

<h4 id="q7" name="q7"> Graphic 画面に文字をどのように書きますか? </h4>
この機能も準備中です. とりあえずは line 命令を組み合わせて書くしかないです.

<h3 id="QandAadvanced" name="QnadAadvanced"> 
<font color="magenta"> 良くある質問 上級編 </font> </h3>

<ul>
<li> <a href="#aq1"> asir 以外の計算エンジンは接続できますか? </a>
<li> <a href="#aq2">  cfep はどのような言語で書かれていますか? </a>
<li> <a href="#aq3">  コマンドライン版 asir は含まれていますか? </a>
<li> <a href="#aq4">  Asir-contrib でロードされるファイルを変更したい. </a>
<li> <a href="#aq5"> OpenXM サーバが実行される時の PATH 環境変数の値を変えたい.</a>
<li> <a href="#aq6"> TeX をインストールしてあるのに tex でタイプセットできません</a>
<li> <a href="#aq-2006-03-11-debug-window"> debug window を表示してエラーが発生した時の変数を調べたいのですが.</a>
<li> <a href="#aq-2006-03-11-a"> glib で OpenGL でなく X11 を使いたい. </a>
</ul>

<h4 id="aq1" name="aq1"> Q. asir 以外の計算エンジンは接続できますか? </h4>
OpenXM 100, 103 プロトコルをサポートしている計算エンジンなら接続可能です.
計算エンジンとは ox_texmacs を介して接続しています.
起動スクリプトはリソースになっています.
1.1 以降は kan/sm1 の起動もメニューに組み込まれています.

<h4 id="aq2" name="aq2"> Q. cfep はどのような言語で書かれていますか? </h4>
Cocoa ツールキットを用いて objective C で書かれています.
ソースコードは 
<a href="http://www.math.kobe-u.ac.jp/cgi/cvsweb.cgi"> 
OpenXM の cvsweb </a> の OpenXM/src/cfep を御覧ください.

<h4 id="aq3" name="aq3"> Q.  コマンドライン版 asir は含まれていますか? </h4>
cfep.app/OpenXM/bin にあります.
cfep.app/OpenXM/rc の下で make を動かして openxm スクリプトを生成してください.
環境変数を自動設定します.
openxm asir で OpenXM版の asir が起動します.

<h4 id="aq4" name="aq4"> Q.  Asir-contrib でロードされるファイルを変更したい. </h4>
cfep.app/OpenXM/rc/asirrc を編集.

<h4 id="aq5" name="aq5"> Q. OpenXM サーバが実行される時の PATH 環境変数の値を変えたい.</h4>
ちょっと裏技ですが, 言語毎のリソースで PATH の値を設定することで変更します.
日本語環境なら
cfep.app/Contents/Resource/Japanese.lproj/Localizable.strings
に utf16 で "PATH"="PATH環境変数の値";  を加えます.
(Prefererece で変えることができるようにする予定).
参照: cfep/MyEnvironment.m,  initFor:

<h4 id="aq6" name="aq6"> Q. TeX をインストールしてあるのに tex でタイプセットできません</h4>
cfep は /sw/bin (fink) に tex が存在していると仮定してます.
詳しくは cfep/MyEnvironment.m, initFor: をみてください.

<h4 id="aq-2006-03-11-debug-window" name="aq-2006-03-11-debug-window"> 
 Q.  debug window を表示してエラーが発生した時の変数を調べたいのですが.</h4>
<pre>
debug window を表示させるため, X11 が動作していることが大前提です.
例 
ctrl("debug_window",1);
import("glib3.rr");
glib_line("hoge",1,1,1);

list
print X
などを debug window 
  <img src="debug_window.png"/> 
へ入力すると, 出力小窓にプログラムリストや値が表示されます.  debug window を表示させないようにするには,

    ctrl("debug_window",0);

を実行します.  
なおこれは裏技的機能です. 将来的には OpenXM の error packet により, cfep と融合した形で処理する予定です.
</pre>

<h4 id="aq-2006-03-11-a" name="aq-2006-03-11-a"> glib で OpenGL でなく X11 を使いたい. </h4>
裏技的方法ですが,
<pre>
Cfep_loaded = 0;
</pre>
としておくと, X11 で描画されます.
大量の点をプロットする場合 OpenGL インタプリタの構造上メモリを浪費するので, 
このような場合は X11 で描画するべきでしょう.



</body>
</html>
