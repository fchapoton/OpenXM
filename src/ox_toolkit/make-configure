#!/bin/sh
# $OpenXM: OpenXM/src/ox_toolkit/make-configure,v 1.4 2005/01/17 22:54:46 ohara Exp $

prefix=`cd ../..; pwd`
cache_file=`pwd`/config.cache
case "$1" in
"-f"|"--force")
    automake
    autoconf
    touch ${cache_file}
    ./configure --prefix=${prefix} --with-gmp --cache-file=${cache_file} --enable-shared
    ;;
*)
if [ ! -f ./.configure_done ]; then 
    if [ ! -f ./Makefile.in ]; then 
		automake 
  	fi
    if [ ! -x ./configure ]; then 
		autoconf 
  	fi
    touch ${cache_file}
    ./configure --prefix=${prefix} --with-gmp --cache-file=${cache_file} --enable-shared
fi
    ;;
esac
touch .configure_done 
