#$OpenXM: OpenXM/doc/Makefile,v 1.6 2003/03/25 23:55:25 takayama Exp $
OXWEAVE=../bin/oxweave
OW_FLAG=--recursive
all : install-doc-intro install-doc-spec install-doc-FAQ

all-install: install-doc-intro   #alias
install-doc-intro: $(OXWEAVE) install-ja.txt  install-en.txt
install-doc-FAQ: $(OXWEAVE) OpenXM-FAQ-ja.txt OpenXM-FAQ-en.txt 

all-spec: install-doc-spec #alias
install-doc-spec :
	-(cd OpenXM-specs ; make all)

install-ja.txt : install.oxweave
	-rm -f install-ja.txt
	echo "DO NOT EDIT THIS FILE." >install-ja.txt
	$(OXWEAVE) $(OW_FLAG) jp C <install.oxweave >>install-ja.txt

install-en.txt : install.oxweave
	-rm -f install-en.txt
	echo "DO NOT EDIT THIS FILE." >install-en.txt
	$(OXWEAVE) $(OW_FLAG) eg C <install.oxweave >>install-en.txt

OpenXM-FAQ-ja.txt : OpenXM-FAQ.oxweave
	-rm -f OpenXM-FAQ-ja.txt
	echo "DO NOT EDIT THIS FILE." >OpenXM-FAQ-ja.txt
	$(OXWEAVE) $(OW_FLAG) ja C <OpenXM-FAQ.oxweave >>OpenXM-FAQ-ja.txt

OpenXM-FAQ-en.txt : OpenXM-FAQ.oxweave
	-rm -f OpenXM-FAQ-en.txt
	echo "DO NOT EDIT THIS FILE." >OpenXM-FAQ-en.txt
	$(OXWEAVE) $(OW_FLAG) en C <OpenXM-FAQ.oxweave >>OpenXM-FAQ-en.txt

$(OXWEAVE) : $(OXWEAVE).c
	(cd ../src/kxx ; make oxweave)

clean:
	-rm -f install-ja.txt install-en.txt OpenXM-FAQ-ja.txt OpenXM-FAQ-en.txt
